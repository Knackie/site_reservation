/* =========================
   Design System ‚Äî Espace Bien-√ätre
   Partag√© par index.html & config.html
   ========================= */

/* --- Th√®mes & palettes --- */
:root{
  --radius:14px;
  --shadow:0 8px 24px rgba(16,24,40,.06);
  --ring:0 0 0 3px rgba(99,102,241,.18);

  --ok:#16a34a; --no:#dc2626; --warn:#f59e0b;
}
:root.light{
  --bg:#f5f7fb; --panel:#fff; --muted:#e6ebf2; --border:#d7dee8;
  --text:#0f172a; --text-muted:#5b6b86; --chip:#f1f5f9;
}
:root.dark{
  --bg:#0b1220; --panel:#111827; --muted:#1a2433; --border:#263346;
  --text:#e7eaf0; --text-muted:#a7b1c2; --chip:#0f172a;
}

/* Palettes */
:root.palette-teal.light { --accent:#0f766e; --muted:#e6f0f0; --border:#cfe3e2; --text:#0f172a; --text-muted:#48606a; --chip:#eef7f7; }
:root.palette-teal.dark  { --accent:#14b8a6; --muted:#0f1b24; --border:#1f3940; --text:#e7eaf0; --text-muted:#a7c4c6; --chip:#0d1a1c; }
:root.palette-sage.light { --accent:#3f7f72; --muted:#ecf1ee; --border:#d6e0db; --text:#10211c; --text-muted:#566b62; --chip:#f1f5f2; }
:root.palette-sage.dark  { --accent:#69a99a; --muted:#0f1614; --border:#1f2a26; --text:#eaf1ee; --text-muted:#aec5bc; --chip:#0f1614; }
:root.palette-sand.light { --accent:#8f6d3f; --muted:#f3eee6; --border:#e5dbc9; --text:#201a12; --text-muted:#6b5f51; --chip:#f7f3ec; }
:root.palette-sand.dark  { --accent:#caa56f; --muted:#1a1611; --border:#2a241b; --text:#efeae3; --text-muted:#d2c6b6; --chip:#1a1611; }
:root.palette-slate.light{ --accent:#405e8c; --muted:#ecf0f7; --border:#d6deea; --text:#0e1726; --text-muted:#53627a; --chip:#f1f4fa; }
:root.palette-slate.dark { --accent:#60a5fa; --muted:#0e1526; --border:#1e2a44; --text:#e6ecf8; --text-muted:#b7c4df; --chip:#0e1526; }

:root.dark{ color-scheme: dark }

/* --- Reset doux & typo --- */
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; background:var(--bg); color:var(--text);
  font:14px/1.45 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto;
  transition: background .3s, color .3s;
}
h1{ margin:0 0 12px; font-size:1.7rem }
h2{ margin:0 0 10px; font-size:1.1rem }
a{ color:inherit }

/* --- Layout g√©n√©rique --- */
.app{ max-width:1200px; margin:20px auto; padding:0 16px }
.controls{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-bottom:12px }
.split{ display:flex; gap:8px; align-items:center }
.sub,.note{ font-size:.92rem; color:var(--text-muted) }
.hidden{ display:none !important }

/* --- Formes & boutons --- */
input,button,select,textarea{
  padding:10px 12px; border-radius:10px; border:1px solid var(--border);
  background:var(--panel); color:var(--text); transition:background .2s,border-color .2s,box-shadow .2s;
}
input:focus,select:focus,button:focus,textarea:focus{ outline:none; box-shadow:var(--ring) }
button{ cursor:pointer } button:hover{ background:var(--muted) }

.btn{ background:var(--accent); color:#fff; border:1px solid color-mix(in oklab, var(--accent) 75%, #0000) }
.btn:hover{ filter:brightness(1.05) }
.btn-ghost{ background:transparent; border:1px solid transparent; color:var(--text-muted) }
.btn-danger{ border-color:#fecaca; color:#991b1b; background:#fff5f5 }

.pill{
  padding:6px 12px; border:1px solid var(--border); border-radius:999px;
  background:var(--panel); color:var(--text-muted)
}

/* --- Cartes & sections --- */
section,.card, .day-card{
  background:var(--panel); border:1px solid var(--border); border-radius:var(--radius);
  box-shadow:var(--shadow); padding:14px
}
.two-cols{ display:grid; grid-template-columns:repeat(2,1fr); gap:18px }
.day-col h2{ margin:0 0 4px; font-size:1.15rem; text-transform:capitalize; color:var(--accent) }

/* --- Tableau (vue Jour) --- */
.table-wrap{ overflow:auto; border-radius:12px; border:1px solid var(--border); background:var(--panel); box-shadow:var(--shadow) }
table{ width:100%; border-collapse:separate; border-spacing:0 }
thead th{
  position:sticky; top:0; background:var(--muted);
  border-bottom:1px solid var(--border); text-align:left; padding:12px
}
tbody td, tbody th{ border-bottom:1px solid var(--border); padding:10px; vertical-align:top }
tbody th{ background:var(--muted); font-weight:700; width:140px }
td.muted{ background:color-mix(in oklab,var(--panel) 85%,var(--muted)); color:var(--text-muted) }

/* --- Slots (vue Semaine) --- */
.slot{
  background:linear-gradient(180deg,var(--panel),color-mix(in oklab,var(--panel) 85%,var(--muted)));
  border:1px solid var(--border); border-radius:12px; padding:12px; margin:12px 0;
  transition: transform .08s, background .2s
}
.slot:hover{ transform:translateY(-1px) }
.slot-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:8px }
.col-grey{ background:color-mix(in oklab,var(--panel) 80%,var(--muted)); border:1px dashed var(--border); border-radius:8px; min-height:38px }
td.col-grey{ background:color-mix(in oklab,var(--panel) 80%,var(--muted)); border-left:1px solid var(--border); border-right:1px solid var(--border) }

.actions{ display:flex; gap:8px; margin-top:8px; flex-wrap:wrap }
.input-suffix{ position:relative; display:inline-flex; align-items:center }
.input-suffix input{ padding-right:140px }
.input-suffix span{ position:absolute; right:12px; color:var(--text-muted); pointer-events:none; font-size:.95em }

.names{ margin-top:8px; display:flex; gap:8px; flex-wrap:wrap }
.chip{ background:var(--chip); border:1px dashed var(--border); border-radius:999px; padding:4px 10px; font-size:.85rem }
.chip.locked{ opacity:.55 }

/* Ajustement vertical des badges (ok, full, non) */

.badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 22px;
  padding: 0 10px;
  border-radius: 9999px;
  font-size: 0.85rem;
  font-weight: 500;
  line-height: 1;
  margin-right: 6px;           /* petit espace avant le bouton */
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.1); /* l√©ger relief */
}

/* Couleurs harmonis√©es avec le mode sombre */
.badge.ok {
  background: #2a7b63;
  color: #d6f6ec;
}

.badge.full {
  background: #803b3b;
  color: #ffeaea;
}

/* Ajustement du bouton pour qu‚Äôils soient align√©s */
.actions {
  display: flex;
  align-items: center;
  gap: 10px; /* espace propre entre badge et bouton */
}

.actions .badge {
  font-size: 0.85rem;
  line-height: 1;
  padding: 5px 10px;
  border-radius: 9999px;
  font-weight: 500;
  text-align: center;
  min-width: 90px;
  justify-content: center;
}

.actions button {
  margin: 0;
  padding: 4px 10px;
  height: 26px;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  font-size: 0.85rem;
}
/* --- Tabs --- */
.tabs{ display:flex; gap:8px; margin:8px 0 16px }
.tab{ padding:8px 12px; border:1px solid var(--border); border-radius:10px; background:var(--panel) }
.tab.active{ background:var(--muted); border-color:var(--border) }

/* --- Toasts --- */
.toasts{ position:fixed; right:16px; bottom:16px; display:flex; flex-direction:column; gap:8px; z-index:9999 }
.toast{
  min-width:240px; max-width:360px; padding:10px 12px; border-radius:12px;
  border:1px solid var(--border); background:var(--panel); box-shadow:var(--shadow);
  transition: transform .2s, opacity .2s
}
.toast.ok{ border-color:#c7efd4 }
.toast.warn{ border-color:#ffe3b0 }
.toast.err{ border-color:#ffd1d1 }
.toast .title{ font-weight:700; margin-bottom:4px }
.toast .msg{ font-size:.9rem; color:var(--text-muted) }

/* --- Mise en page sp√©cifique CONFIG --- */
.card-grid{ display:grid; gap:14px; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)) }
.row{ display:grid; gap:12px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)) }
.service{
  display:grid;
  grid-template-columns: minmax(280px,1fr) 40px 130px 130px 120px; /* libell√© | üóë | capacit√© | dur√©e | √©tat */
  gap:12px;
  align-items:center;
}
.service > button[data-del]{
  width:28px;height:28px;
  display:flex;align-items:center;justify-content:center;
  line-height:1; /* l‚Äôemoji ne prend pas de hauteur en plus */
  justify-self:center; /* centr√© dans sa colonne */
}
.service input[type="number"], .service select{ width:100% }
.tag{ display:inline-block; padding:3px 8px; border:1px solid var(--border); border-radius:999px; background:color-mix(in oklab,var(--panel) 85%, var(--accent)) }
.day-card{ border:1px dashed var(--border); border-radius:12px; padding:12px }
.day-title{ font-weight:700; color:var(--accent); margin:0 0 8px }
.save{ padding:10px 14px }

/* --- Vue Jour large --- */
body.day-wide .app{ max-width:1440px }
@media(min-width:1600px){ body.day-wide .app{ max-width:1600px } }

/* --- Responsive Config --- */
@media (max-width:1100px){
  .two-cols{ grid-template-columns:1fr }

.day-col.closed { opacity: .55; filter: grayscale(.25); }
.day-col.closed .slot { pointer-events: none; }
}
.col-grey {
  background: var(--panel);
  border: 1px dashed var(--border);
  border-radius: 6px;
  padding: 6px 8px;
  text-align: center;
  color: var(--text-muted);
}
.col-grey .badge.non {
  margin-left: 4px;
}

/* --- Grille des jours --- */
.cfg-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 16px;
}

/* --- Carte colonne (un jour) : grille √† lignes partag√©es --- */
.cfg-day {
  display: grid;
  grid-template-rows:
    auto                  /* Titre du jour */
    min-content minmax(110px, 1fr)   /* AMMA: titre + zone */
    min-content minmax(110px, 1fr)   /* RV:   titre + zone */
    min-content minmax(110px, 1fr)   /* Lumo: titre + zone */
    min-content minmax(110px, 1fr);  /* Do In (gris√©) */
  gap: 10px;
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 12px;
}

/* Titre du jour */
.cfg-day h3 {
  margin: 0 0 4px 0;
  font-size: 1rem;
  font-weight: 700;
}

/* Titre de service : wrap propre, hauteur auto compact√©e */
.cfg-title {
  display: flex;
  align-items: center;
  font-weight: 600;
  line-height: 1.2;
  word-break: break-word;      /* √©vite d√©bordements sur noms tr√®s longs */
  hyphens: auto;               /* c√©sure √©l√©gante si dispo */
}

/* Zone cr√©neaux */
.cfg-area {
  width: 100%;
  min-height: 110px;           /* baseline identique entre jours */
  padding: 8px 10px;
  resize: vertical;            /* peut grandir si besoin */
  border-radius: 8px;
}

/* Colonne gris√©e (non r√©servable) */
.cfg-area.gray {
  background: transparent;
  color: var(--text-muted);
  border: 1px dashed var(--border);
}

/* Petite bulle ‚Äúgris√©‚Äù si tu l‚Äôaffiches pr√®s du label */
.badge-mute {
  display: inline-block;
  font-size: .8em;
  padding: 2px 6px;
  border-radius: 999px;
  background: var(--panel);
  border: 1px solid var(--border);
  color: var(--text-muted);
  margin-left: 6px;
}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.35);display:flex;align-items:center;justify-content:center;z-index:10000}
.modal-card{width:min(480px,92vw);background:var(--panel);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);padding:16px}
.modal.hidden{display:none}
.slot-compact{display:grid;grid-template-columns:1fr;gap:8px}
.slot-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:8px}
.separator{height:1px;background:var(--border);margin:10px 0}
.pill-wrap{display:flex;flex-direction:column;gap:6px}
.pill-time{font-weight:600}
.pill-svc{font-size:.9rem;opacity:.8}
/* ==== Vue semaine compacte propre ==== */
#view-week .day-col { padding-bottom: 8px; }
#view-week .slot-compact { padding: 4px 8px; border-radius: 14px; background: var(--panel-bg, rgba(255,255,255,0.03)); }

#view-week .slot-row{
  display:grid;
  grid-template-columns: 96px 1fr;   /* rail horaire + zone pills */
  align-items:center;
  gap:10px;
  padding:10px 8px;
  border-radius:12px;
  margin:6px 0;
}

#view-week .time-col{
  font-weight:700;
  letter-spacing: .2px;
  opacity:.9;
  text-align:right;
  padding-right:6px;
}

#view-week .pills{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap:8px;
}

#view-week .pill-wrap{display:contents;} /* on ne garde que le bouton & chips */

#view-week .pill-btn{
  display:flex; align-items:center; justify-content:space-between;
  gap:10px; width:100%;
  padding:10px 12px; border-radius:12px; border:none; cursor:pointer;
  background:var(--pill-ok, #eafff4);  /* par d√©faut ok */
  box-shadow: 0 1px 0 rgba(0,0,0,.04), inset 0 0 0 1px rgba(0,0,0,.06);
  transition: transform .06s ease, box-shadow .06s ease, opacity .2s ease;
}
#view-week .pill-btn:hover{ transform: translateY(-1px); }

#view-week .pill-btn .pill-svc{ font-weight:600; }
#view-week .pill-btn .pill-time{ font-variant-numeric: tabular-nums; opacity:.85; }

/* √©tats */
#view-week .pill-full{ background:#ffe8e8; opacity:.95; }
#view-week .pill-past{ background:#eceff3; opacity:.7; cursor:not-allowed; }

/* chips (admin) */
#view-week .names{ grid-column: 2 / -1; display:flex; flex-wrap:wrap; gap:6px; margin-top:6px; }
#view-week .chip{
  background:rgba(0,0,0,.18); color:inherit; border-radius:999px; padding:4px 8px; cursor:pointer;
}
#view-week .chip:hover{ background:rgba(0,0,0,.28); }

/* mobile resserr√© */
@media (max-width: 560px){
  #view-week .slot-row{ grid-template-columns: 72px 1fr; }
  #view-week .pills{ grid-template-columns: 1fr; }
}
/* Grille semaine : s'adapte pour tenir 7 jours sur grands √©crans */
.week-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(280px, 1fr)); /* base: 3 colonnes */
  gap: 16px;
  align-items: start;
}

/* √âcrans larges ‚Üí 4 colonnes */
@media (min-width: 1400px){
  .week-grid{
    grid-template-columns: repeat(4, minmax(260px, 1fr));
  }
}

/* Tr√®s larges ‚Üí 5 colonnes */
@media (min-width: 1800px){
  .week-grid{
    grid-template-columns: repeat(5, minmax(240px, 1fr));
  }
}

/* Ultra larges ‚Üí 7 colonnes (toute la semaine d'un coup) */
@media (min-width: 2200px){
  .week-grid{
    grid-template-columns: repeat(7, minmax(220px, 1fr));
  }
}

/* un peu de compaction visuelle pour caser plus sans nuire √† la lisibilit√© */
.day-col h2{ margin: 6px 0 10px; }
.slot.slot-compact { gap: 6px; }
.slot-row { gap: 8px; }
.pill-wrap { margin-bottom: 6px; }
.pill-btn { padding: 8px 10px; font-size: 0.95rem; }
.pill-time{ font-weight: 600; }

/* ===== Vue semaine compacte ===== */
.week-compact{
  display:grid;
  gap:10px;
  grid-auto-rows:min-content;
  align-items:start;
}
.week-compact .day-col{
  padding:8px 10px;
  border-radius:12px;
  background:var(--panel);
}
.week-compact .day-col h2{
  margin:0 0 8px 0;
  font-size:15px;
  line-height:1.1;
}
.week-compact .slot-compact{display:flex;flex-direction:column;gap:6px}
.week-compact .pill-wrap{margin:0}
.week-compact .pill-btn{
  padding:6px 8px;
  border-radius:10px;
  font-size:12.5px;
  display:flex;flex-direction:column;align-items:flex-start;gap:2px;
}
.week-compact .pill-svc{font-weight:600}
.week-compact .pill-time{opacity:.9}
.week-compact .pill-past{opacity:.55}
.week-compact .pill-full{opacity:.75}

/* Grille semaine compacte align√©e */
/* ===== Vue semaine ‚Äî style "sexy" ===== */

/* grille : fond doux, coins, ombre l√©g√®re */
.week-compact-grid{
  display: grid;
  grid-auto-rows: min-content;   
  overflow : hidden;
  align-items: start;            
  background: var(--panel);
  overflow: hidden;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 14px;
  gap: 12px 14px;
  box-shadow: 0 8px 24px rgba(16,24,40,.06);
}

/* rail des heures collant, plus lisible */
.week-compact-grid .time{
  position: sticky; left: 0; z-index: 2;
  align-self: start;
  padding: 8px 10px;
  margin-right: 4px;
  border-radius: 10px;
  background: var(--panel);
  border: 1px solid var(--border);
  font-weight: 700;
  font-variant-numeric: tabular-nums;
  color: var(--text);
}

/* ent√™te jour ‚Üí carte collante */
.week-compact-grid .day-h{
  position: sticky; top: 0; z-index: 2;
  z-index: 1;
  padding: 10px 12px;
  border-radius: 12px;
  background: var(--panel);
  border: 1px solid var(--border);
  font-weight: 700;
  box-shadow: 0 2px 8px rgba(0,0,0,.04);
}

/* cellule (jour x heure) : wrap + espacement */
.week-compact-grid .cell{
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-content: flex-start;
  min-height: 44px;
}
.week-compact-grid .gcell{
  border-top: 1px solid var(--border);
  border-left: 1px solid var(--border);
  padding: 10px;
  background: var(--panel);
}

/* pill g√©n√©rique (carte cr√©neau) */
.pill-btn{
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-areas:
    "svc badge"
    "time badge";
  align-items: center;
  gap: 2px 10px;

  padding: 10px 12px;
  min-width: 220px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: linear-gradient(180deg,var(--panel), color-mix(in oklab, var(--panel) 85%, var(--muted)));
  box-shadow: 0 1px 0 rgba(0,0,0,.04), inset 0 0 0 1px rgba(0,0,0,.06);
  transition: transform .06s ease, box-shadow .12s ease, opacity .2s ease, border-color .12s ease;
}

.pill-btn:hover{ transform: translateY(-1px); box-shadow: 0 6px 18px rgba(16,24,40,.12); }
.pill-btn:disabled{ opacity:.6; cursor:not-allowed; }

/* contenu pill */
.pill-svc{ grid-area: svc; font-weight: 700; letter-spacing:.2px; }
.pill-time{ grid-area: time; opacity:.8; font-variant-numeric: tabular-nums; }

/* badge droite */
.pill-badge{
  grid-area: badge;
  justify-self: end;
  font-size:.8rem;
  line-height:1;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid transparent;
}

/* √©tats */
.pill-ok{ border-color: color-mix(in oklab, var(--accent) 40%, var(--border)); background: color-mix(in oklab, #00b36b 12%, var(--panel)); }
.pill-ok .pill-badge{ background:#eafff2; border-color:#c7efd4; color:#0f7a2a; }

.pill-full{ background: color-mix(in oklab, #ff3b30 10%, var(--panel)); border-color: color-mix(in oklab, #ff3b30 35%, var(--border)); }
.pill-full .pill-badge{ background:#ffe8e8; border-color:#ffd1d1; color:#a11212; }

.pill-past{ background: color-mix(in oklab, var(--panel) 85%, var(--muted)); opacity:.75; }
.pill-past .pill-badge{ background:#eceff3; border-color:#dde3ea; color:#6b7280; }

.pill-btn[data-svc="amma"]::before{ background:#0ea5e9; }     /* Massage AMMA */
.pill-btn[data-svc="rv"]::before{   background:#a78bfa; }     /* R√©alit√© Virtuelle */
.pill-btn[data-svc="lumo"]::before{ background:#34d399; }     /* Luminoth√©rapie */

/* accessibilit√© contraste (dark / light ok) */
@media (prefers-contrast: more){
  .pill-btn{ border-width:2px }
}

/* compact sur √©crans √©troits */
@media (max-width: 900px){
  .week-compact-grid{ gap: 10px }
  .pill-btn{ min-width: 180px; padding: 8px 10px; }
  .pill-badge{ padding:5px 8px; }
}
.week-compact-grid .pill-svc{ font-weight:600; }
.week-compact-grid .pill-time{ opacity:.72; margin-left:.35rem; }
.day-card { position: relative; }
.day-card.active { outline: 2px solid color-mix(in oklab,var(--accent) 60%, transparent); border-radius: 12px; }
.slot-tools{ display:flex; gap:6px; align-items:center; margin:6px 0 10px; flex-wrap:wrap; }
.slot-list{ display:flex; flex-wrap:wrap; gap:6px; }
.slot-chip{ display:inline-flex; align-items:center; gap:6px; padding:6px 8px; border-radius:999px;
  background: color-mix(in oklab,var(--fg) 10%, transparent); }
.slot-chip .x{ cursor:pointer; opacity:.7 }
.slot-chip .x:hover{ opacity:1 }
/* Alignements liste Services / ic√¥ne poubelle */
/* ===== Services (une ligne = une grille) ===== */
#servicesSec .services-head{
  display:grid;
  grid-template-columns: minmax(260px,1fr) 110px 130px 180px 42px; /* libell√© | cap | dur√©e | √©tat | üóë */
  gap:10px 12px;
  font-weight:600;
  margin:6px 0;
}

#servicesList .service{
  display:grid;
  grid-template-columns: minmax(260px,1fr) 110px 130px 180px 42px;
  gap:12px;
  align-items:center;
}

#servicesList .service .svc-label{display:flex;flex-direction:column;line-height:1.2}
#servicesList .service .svc-label small{color:var(--text-muted)}

#servicesList .service input[type="number"],
#servicesList .service select{
  width:100%; height:36px; padding:6px 8px;
}

#servicesList .service > button[data-del]{
  width:36px; height:36px; border-radius:10px;
  display:flex; align-items:center; justify-content:center;
  justify-self:center;
}
#servicesList .service > button[data-del]:hover{ transform:translateY(-1px) }

/* Ligne d‚Äôajout en bas */
#servicesSec .svc-add {
  display: grid;
  grid-template-columns: 1fr 110px 130px 180px 42px;
  gap: 10px 12px;
  align-items: center;
  margin-top: 10px;
}
#servicesSec .svc-add input,
#servicesSec .svc-add select,
#servicesSec .svc-add button { height: 36px; width: 100%; }
#servicesSec .services-grid {
  display: grid;
  grid-template-columns: 1fr 110px 130px 180px 42px; /* libell√© | cap | dur√©e | √©tat | poubelle */
  gap: 10px 12px;
  align-items: center;
}

/* LIGNE D‚ÄôEN-T√äTE : m√™me grille, sur le m√™me √©l√©ment */
#servicesSec .services-grid.svc-head {
  display: grid; /* important */
  grid-template-columns: 1fr 110px 130px 180px 42px;
  gap: 10px 12px;
  align-items: center;
  font-weight: 600;
  color: var(--text-muted);
  margin: 6px 0;
}

/* Responsive */
@media (max-width: 900px){
  #servicesSec .services-head{
    grid-template-columns: minmax(200px,1fr) 90px 110px 1fr 42px;
  }
  #servicesList .service{
    grid-template-columns: minmax(200px,1fr) 90px 110px 1fr 42px;
  }
}
@media (max-width: 680px){
  #servicesSec .services-head{ display:none }
  #servicesList .service{
    grid-template-columns: 1fr 1fr;
    gap:10px;
  }
  #servicesList .service .svc-label{ grid-column:1 / -1 }
  #servicesList .service > button[data-del]{ grid-column:2; justify-self:end }
}
.tab[disabled], .tab[aria-disabled="true"]{
  opacity:.45; cursor:not-allowed; pointer-events:none;
}
/* Rendre le tableau plus net */
table {
  width: 100%;
  border-collapse: collapse; /* fusionne les traits ‚Üí quadrillage complet */
}

thead th {
  background: var(--muted);
  border: 1px solid var(--border);
  text-align: left;
  padding: 12px;
}

tbody th, tbody td {
  border: 1px solid var(--border);
  padding: 10px;
  vertical-align: top;
}
tbody tr:nth-child(even) td,
tbody tr:nth-child(even) th {
  background: color-mix(in srgb, var(--muted) 30%, white); /* l√©ger z√©brage */
}

td.muted {
  background: var(--muted);
  color: var(--text-muted);
}
/* Centrer le contenu des cellules en Vue Jour */
#view-day td { 
  text-align: center;
}

/* La ligne d‚Äôactions (badge, bouton) au centre */
#view-day .actions{
  justify-content: center;   /* √©tait left par d√©faut */
  margin-top: 0;             /* optionnel: compacter */
}

/* Colonne gris√©e: centre le libell√© */
#view-day .col-grey .note{
  display: inline-block;
  text-align: center;
}

/* Les cellules muettes (‚Äî) centr√©es aussi */
#view-day td.muted .note{
  display: inline-block;
  text-align: center;
}
/* Les ent√™tes utilisent la m√™me m√©canique de grille : pas de bordure propre */
.week-compact-grid .time,
.week-compact-grid .day-h{
  border: 0;                 /* on laisse .gcell g√©rer les traits */
  background: var(--panel);  /* fond neutre */
}

/* Optionnel : adoucir visuellement l'ent√™te */
.week-compact-grid .day-h{
  font-weight: 700;
  box-shadow: none;
}
/* ===== Vue Semaine en tableau ===== */
.week-table{
  width:100%;
  border-collapse: collapse;
  background: var(--panel);
  border:1px solid var(--border);
  border-radius:12px;
  overflow:hidden;
  box-shadow: var(--shadow);
}
.week-table thead th{
  position: sticky; top: 0;
  background: var(--muted);
  border:1px solid var(--border);
  padding:10px;
  text-align:center;
  font-weight:700;
}
.week-table tbody th{
  background: var(--muted);
  border:1px solid var(--border);
  padding:10px;
  text-align: right;
  width: 86px;
  font-variant-numeric: tabular-nums;
}
.week-table td{
  border:1px solid var(--border);
  padding:8px;
  vertical-align: top;
}

/* bouton cr√©neau r√©utilis√© (look ‚Äúpill‚Äù propre) */
.week-table .pill-btn{
  display:grid;
  grid-template-columns:1fr auto;
  grid-template-areas:"svc badge" "time badge";
  gap:2px 10px;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--border);
  background: linear-gradient(180deg,var(--panel), color-mix(in oklab, var(--panel) 85%, var(--muted)));
  transition: transform .06s, box-shadow .12s, opacity .2s, border-color .12s;
  box-shadow: 0 1px 0 rgba(0,0,0,.04), inset 0 0 0 1px rgba(0,0,0,.06);
  width:100%;
}
.week-table .pill-btn:hover{ transform:translateY(-1px); box-shadow:0 6px 18px rgba(16,24,40,.12) }
.week-table .pill-svc{ grid-area:svc; font-weight:700 }
.week-table .pill-time{ grid-area:time; opacity:.8; font-variant-numeric: tabular-nums }
.week-table .pill-badge{ grid-area:badge; justify-self:end; font-size:.8rem; padding:6px 10px; border-radius:999px; border:1px solid transparent }

/* √©tats */
.week-table .pill-ok{ border-color: color-mix(in oklab, var(--accent) 40%, var(--border)); background: color-mix(in oklab, #00b36b 12%, var(--panel)); }
.week-table .pill-ok .pill-badge{ background:#eafff2; border-color:#c7efd4; color:#0f7a2a }
.week-table .pill-full{ background: color-mix(in oklab, #ff3b30 10%, var(--panel)); border-color: color-mix(in oklab, #ff3b30 35%, var(--border)); }
.week-table .pill-full .pill-badge{ background:#ffe8e8; border-color:#ffd1d1; color:#a11212 }
.week-table .pill-past{ background: color-mix(in oklab, var(--panel) 85%, var(--muted)); opacity:.75 }
.week-table .pill-past .pill-badge{ background:#eceff3; border-color:#dde3ea; color:#6b7280 }

/* bandeau de couleur d‚Äôidentification : discret par d√©faut, visible au survol */
.week-table .pill-btn::before{
  content:""; position:absolute; inset:0 auto 0 0; width:0; border-radius:12px 0 0 12px; transition:width .12s;
}
.week-table[data-hl] .pill-btn{ opacity:.55 }
.week-table[data-hl] .pill-btn.is-hl { opacity:1 }
.week-table[data-hl] .pill-btn.is-hl::before{ width:6px }

.pill-btn[data-svc="amma"]::before{ background:#0ea5e9 }
.pill-btn[data-svc="rv"]::before{   background:#a78bfa }
.pill-btn[data-svc="lumo"]::before{ background:#34d399 }
#closed{
  width: min(560px, 100%);      /* un peu large mais reste responsive */
  height: 120px;                /* plus haut par d√©faut */
  resize: none;                 /* bloque le redimensionnement */
  overflow: auto;               /* scroll si trop de contenu */
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-variant-numeric: tabular-nums;  /* chiffres bien align√©s */
  line-height: 1.5;             /* a√®re les lignes */
  white-space: pre;             /* respecte les retours √† la ligne */
}

/* Optionnel : mets-le en plein largeur sur mobile */
@media (max-width: 640px){
  #closed{ width:100% }
}
/* ===== Vue Jour = pills comme en Semaine ===== */

/* la table jour peut accueillir des pills pleine largeur */
.day-table td { padding: 8px; }
.day-table .pill-btn{ width:100%; text-align:left; }

/* survol colonne/service : on att√©nue les autres pills */
.day-table[data-hl] .pill-btn:not(.is-hl){ opacity:.35; }

/* petit reset du contenu ‚Äú‚Äî‚Äù pour rester centr√© et l√©ger */
.day-table .note{ color: var(--text-muted); }
/* Vue Jour : ne pas r√©p√©ter le nom du service dans chaque cellule */
.day-table .pill-svc { display: none; }

/* on compacte la grille du pill (time + badge seulement) */
.day-table .pill-btn{
  grid-template-columns: 1fr auto;
  grid-template-areas: "time badge";
}
/* chips jours */
.chips { display:flex; flex-wrap:wrap; gap:8px }
.chip { border:1px solid var(--border); border-radius:999px; padding:6px 10px; cursor:pointer }
.chip-on  { background: var(--accent-weak); }
.chip-off { opacity:.55 }

.chip-toggle{
  display:inline-flex;align-items:center;gap:8px;
  padding:8px 12px;border:1px solid var(--border);border-radius:999px;
  background:var(--panel);cursor:pointer;user-select:none
}
.chip-toggle input{accent-color:var(--accent)}
.chip-toggle.on{ box-shadow: inset 0 0 0 2px color-mix(in oklab,var(--accent) 50%, transparent); }

/* cacher les cartes de jours ferm√©s dans la page config */
#configPage .day-card.closed{ display:none; }
/* Toolbar planning */
.planner-toolbar{
  display:flex; flex-wrap:wrap; align-items:center;
  gap:12px; margin:8px 0 10px;
}
.planner-toolbar .control{
  display:flex; align-items:center; gap:6px;
  padding:6px 10px; border:1px solid var(--border); border-radius:12px;
  background:var(--surface);
}
.planner-toolbar .control .lbl{ font-weight:600; opacity:.9; }
.planner-toolbar .control .arrow{ margin:0 2px; }
.planner-toolbar select{
  border:none; background:transparent; padding:2px 4px; outline:none;
}
.planner-toolbar .btn-plus{ padding:8px 12px; }
.planner-toolbar .hint{ margin-left:auto; white-space:nowrap; }
@media (max-width: 820px){
  .planner-toolbar .hint{ width:100%; margin-left:0; }
}
.day-card.active {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  box-shadow: 0 0 10px var(--accent-weak);
  transition: all 0.2s ease;
}
/* S√©lection d'une carte jour (clic ou select) */
.day-card.is-selected {
  border: 2px solid var(--accent);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 25%, transparent);
  border-radius: 14px;
  transition: box-shadow .15s ease, border-color .15s ease;
}
/* Show ribbon only in week view */
body.view-week .week-table .day-card::before,
body.view-week .day-card::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0; bottom: 0;
  width: 4px;
  background: var(--svc-color, var(--accent));
  border-radius: 4px 0 0 4px;
}

/* Never show any ribbon in day view */
body.view-day .week-table .day-card::before,
body.view-day .day-card::before {
  content: none !important;
}

/* Additional guard: no service color leaking in day view */
body.view-day {
  --svc-color: transparent;
}
/* ‚õîÔ∏è D√©sactive totalement le ruban/bordure gauche dans TOUTES les vues */
.week-table::before,
.day-table::before,
.day-card::before,
.week-table .day-card::before {
  content: none !important;
  display: none !important;
}


/* Neutralise toute couleur globale utilis√©e pour ce ruban */
:root, body {
  --svc-color: transparent !important;
}
/* Supprime la barre/ligne √† gauche des boutons cr√©neaux */
/* D√©sactive la barre color√©e √† gauche en survol (semaine + jour) */
.week-table::before,
.week-table[data-hl]::before,
.day-table::before,
.day-table[data-hl]::before {
  content: none !important;
  display: none !important;
}

/* Par s√©curit√©, on neutralise aussi tout effet de bordure/ombre gauche */
.pill-btn,
.pill-btn.is-hl {
  border-left: 0 !important;
  box-shadow: none !important;
}
/* üîí D√©sactive TOUTES les barres gauche des ‚Äúpills‚Äù */
.pill-btn { position: relative; }                /* √©vite toute fuite d'un pseudo-√©l√©ment */
.pill-btn::before { content: none !important; }  /* supprime le ruban partout */

/* Si d'autres blocs les r√©activent (week/day) : neutralise aussi */
.week-table .pill-btn::before,
.day-table  .pill-btn::before {
  content: none !important;
}

/* Et on ignore le mode survol [data-hl] ajout√© par le JS */
.week-table[data-hl] .pill-btn,
.day-table[data-hl]  .pill-btn { opacity: 1 !important; }
.week-table[data-hl] .pill-btn.is-hl::before { content:none !important; }

/* ==== Pleine largeur propre (container) ==== */
.app{
  /* occupe la quasi-largeur de l‚Äô√©cran mais reste centr√©e */
  width: min(1800px, 96vw);
  max-width: none;                 /* annule le 1200px */
  margin-inline: auto;
  padding-inline: clamp(10px, 2vw, 24px);
}

/* Vue Jour : un peu plus large sur grands √©crans */
body.day-wide .app{
  width: min(2000px, 98vw);
}

/* Les tables utilisent 100% de la largeur et scrollent si besoin */
.week-table,
#view-day .table-wrap{
  width: 100%;
  overflow-x: auto;
}

/* √âvite une barre de d√©filement horizontale globale et les d√©bords visuels */
html, body{ overflow-x: hidden; }

/* Petite s√©curit√© : le rail ‚Äúheure‚Äù garde sa largeur fixe et ne mord pas √† gauche */
.week-table thead th:first-child,
.week-table tbody th{
  width: 86px;              /* coh√©rent avec ton CSS */
  min-width: 86px;
  text-align: right;
}
